# Action of Route Data

+ 辨識封包的目的地: 使用子網路遮罩確定需要被路由的封包目的地的網路位址

+ 辨識路由資訊的來源: 確定路由器可以從哪個來源，學習到往目標的路徑

+ 辨識路由: 決定路由器可以學習到往目標路徑的來源

+ 選擇路由: 選擇往預定目的的最佳路徑

+ 維護與驗證路由資訊: 更新已知的路由，以及根據網路條件選擇路由

# Static and Dynamic Routing

+ Static routes

    + 網路管理員在路由器中自行輸入靜態路由

    + 網路拓樸改變時需要自行更新路由

    + 路由的行為可以被精確的控制

    + 使用時機

        + 需要簡單路由的小型網路

        + 在 Hub-to-Spoke 網路拓樸中

        + 當你想創建一個快速、特定 (Ad Hoc) 的路由

        + 通常用於預設靜態路由

+ Dynamic routes

    + 當拓樸或流量改變時，自動調整動態路由

    + 路由器藉由交換路由更新資訊，來學習與管理到遠端目標的路由

    + 路由器藉由分享路由表資訊，來探索新的網路或拓樸中的其他改變

    + 使用時機
    
        + 一個大型網路

        + 當網路有可能之後還或擴張時

# IPv4 Staitc Route Configuration

+ 當一個路由器作為末端網路 (stub network) 的唯一介面時，他以 172.16.2.1 介面連接其他網路路由器 172.16.2.2，內部連接著 172.16.1.0/24 的網段

    172.16.2.2 <------ 172.16.2.1 ------> 172.16.1.0/24

    在 172.16.2.2 中設定讓封包知道往 172.16.1.0 下一個要去的介面是 172.16.2.1 
    ```
    Route(config)# ip route 172.16.1.0 255.255.255.0 172.16.2.1
    ```

    在 172.16.2.1 上設定 default route 讓 172.16.1.0/24 可以到達路由器之外的所有已知網路
    ```
    Route(config)# ip route 0.0.0.0 0.0.0.0 172.16.2.2
    ```

+ 使用 `show ip route` 來驗證路由設定

    + 靜態路由包含了目標網路位址、子網路遮罩、以及下一個路由器的 IPv4 位址，或者要從這個路由器的哪個介面離開

    + 靜態路由在路由表中以 S 來標識

    + 一個網路要用於連接遠端網路時，他的直接連線 (Directly Connected) 必須先寫入路由表中，才能用於建立靜態或動態路由 ([ch9.md](ch9.md))；也就是說如果介面沒有被啟用 (Administratively down) 或者介面沒有被指派 IP 位址，那使用該介面的路由舊不會出現在路由表中